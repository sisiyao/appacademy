<h1><%= @cat.name %></h1>

<table border="1" cellpadding="5">
  <tr>
    <th>Birth Date</th>
    <th>Color</th>
    <th>Sex</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><%= @cat.birth_date %></td>
    <td><%= @cat.color %></td>
    <td><%= @cat.sex %></td>
    <td><%= @cat.description %></td>
  </tr>
</table>

<br/><br/>

<h2>Requests for <%= @cat.name %></h2>
<table border=1>
  <tr>
    <th>Start date</th>
    <th>End date</th>
    <th>Status</th>
  </tr>
  <% @cat.cat_rental_requests.order(:start_date).each do |cat_rental| %>
    <tr>
      <td><%= cat_rental.start_date %></td>
      <td><%= cat_rental.end_date %></td>
      <td><%= cat_rental.status %></td>
      <% if cat_rental.pending? %>
        <td>
          <%= button_to "Approve", approve_cat_rental_request_url(cat_rental), method: :patch %>
        </td>
        <td>
          <%= button_to "Deny", deny_cat_rental_request_url(cat_rental), method: :patch %>
        </td>
      <% end %>
    </tr>
  <% end %>
</table>

<br/><br/>

<nav>
  <%= link_to "Back to all cats", cats_url %>
</nav>
